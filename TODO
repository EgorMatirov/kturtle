This is the TODO file of the KTurtle project, here the things are put that still need implmentation.
This list is devided into URGENT, BIG-TODOs, normalTODOs, TO-oeps-meDOitALLreadies and StillSubjectToDiscussions :-)

BUGS
- when there is an error, display only 1 error, the first.
- The gear does not come back after errors.
- get the logo highlight by default - save the config for highlight
DONE - the caption of the window does not display the title of the saved file after 'save as'

**** URGENT ****


06 Jan. 2004 - annma: the KConfig XT stuff is done. Please note that locate("data", "kturtle/data/logokeywords.en_US.xml") being the default xml file, it does not appear in the config file. If there is nothing in the config file in TranslationFilePath, then this file is always taken.
Always load the xml file with
QFile xmlfile( Settings::translationFilePath() );
note: I left the kdDebug() in the lexer.cpp file.

cies: The KconfigXT issue: If an error like this
"""
  make[4]: Entering directory `/home/cies/kdenonbeta/kturtle/src'
  ./kturtle.kcfg ./settings.kcfgc; ret=$?; \
  if test "$ret" != 0; then rm -f settings.h ; exit $ret ; fi
  /bin/sh: line 1: ./kturtle.kcfg: Permission denied
  make[4]: *** [settings.h] Error 126
"""
happends when make'ing KTurtle form cvs one should change the first line of configure.in.in from:
  #MIN_CONFIG(3.0)
into:
  #MIN_CONFIG(3.2)
that will fix it :-)





**** BIG-TODOs: ****

cies: Implement either a Kate-part or a KTextEditor as editor widget. ANNMA DID IT!!!
Now the minor issues regarding the intergretion should be looked at
- editor-kaction-connections
- on save the title does not appear in the titlebar
- save as does not open in the logo dir
- Qfile->KURL migration
- CLI-file-selection (for mimetype eaz)
- recentfileshistory (action added, have to get it working)
- linenumbers (what di we need more than the View->Show Line numbers or F11 menu?)

- highlighting (a kturtle language sensitive highlight script)
- loads for things sould be hidden and reordered (annma: we can do a shouut out)
File->reload: do we need that one?

- some standadisation, annma i think you know most on encodings (what about MS-DOS <br>'s)
- ...
I *love* to see so much free funktionality in kturtle!




cies: Make the interpreter (stolen from wsbasic.sf.net) (executer, parser, lexer, number and treenode) more native Qt.
Right now they are a mixture of standard-CLI-C++ and Qt thingies (i put the Qt thingies there). I tried to do that but i found that i'm not comfortable with the concept of streams -- which are used a lot in the interpreter. Especially streaming QString was an obstacle i couldnt take.
>>>>> after this is done we can also make the ()[],.""-configurable



cies: The manual...
Au! That is a big one, lets first decide on the chapter structure. See the "StillSubjectToDiscussions" below...
>>>>> i want to use color (the same a the highlighing scheme) in the docu... i have to find out if that is possible
I'm still weighting docbook with pain HTML... since the whole KHelpCenter in a bloated beast.



cies: Make good error messages with links to corresponing help pages.
- Make an error message class that inherates some dialog thing (it should have: help-link-button, details, short error title and origion (Parse error), 'the-row-of-error', and a small description (maybe the description should contain links to help pagen on certain commands/ methods/ etc.) and maybe even a small hint or hint button
- Refine the way error message get emitted, problems: Ugly-, short-, technical messages. Sometimes moere than one messages gets emmitted right now only the 1st msg is shown -- the 1st may not allways point to the 'core ot error'.
>>>>does anyone know a K-app that allready uses this F1-context-sensitive-help style? (no one yet)



cies: Implement an 'abort' funktion into the interpretor. So an endless execution can be aborted.





**** normalTODOs ****


Blocking funktions: >>>>>>>>  sent mail to kwrite-devel list asking soluition
file: reload, export
edit: block selection, gotoline, deselect, find next/previous, overwritemode
view: wordwrapping-, schema- and codefolding funks, commandline, icon border, colorpicker->tools
setting (should be left from help?): editor settings? -> with good defaults we can block it right?
help (to the far right?)
bookmarks: as a whole
tools: only the indentation/commentation should stay imo. (and the picker comes here)




cies:INS, ROW and COL in the statusbar would be nice



Licence: provide a proper licence and have copyrights in all files



cies: Printing.
When the print aktion is called give the user a small-choise-kdialog: "print the code", "print the canvas" or "print both" (the last one is optional). Maybe a reference (in the manual) to ksnapshot will be nice.


cies: get all the commands in the logokeywords.*.xml file working properly, and remove the commands that are not needed:
Need to work eventually:
- input (without window, grabKeyEvents... not easy :)
- sprite* (i'll maybe look into this when i have Qt3.3 which fixes the nasty crashbug that came across)
- 'speed' will come later -- me has to focus and concentrate

would be nice (not in yet):
- ask (print ask 3>0) <.4999 -> "false",  >.5000 -> "true"
- message, just a dialog with sone user defined text
- more expressers: isString, isNumber, isRound
- round()
- true and fasle as cunfiguarables

- <joke> and what about a 'goto' command ( you can never make them mistakes young enough, muahoahoaaaa >:-} ) <joke> well?




cies: a fontchooser would be fun
30/12/2003 annma: for the editor font? I can do it
04/01/2003 we'll see after the editor part is done



annma: color-picker: maybe the code could be pasted directly in the editor at the cursor point (see after the editor part is done)




cies: a press-F1-for-context-help...
Press F1 while in a command and see help on it







**** TO-oeps-IdidItAllReadies: ****


default the highlightstyle to logo


cies: Make a dir and put some examples/test in there...
Let be a little nice to the people how want to get started, or just want to have a peek, right?
It would also be nice to test for regressions in the future.
put a sample code file in kturtle/examples and get it load as an example maybe in File -> Open example



cies: remove some debug crap from the canvas.cpp, I refer to leave it there till mid.03.2003.



Remove hide the scrollbar from the editor when not needed... (probably not easy, kwrite and kate suffer from it too -- i guess the kate folk will have to fix it)



**** StillSubjectToDiscussions ****

After a conversiation with lypanov I came to the conclusion that making the executer 'statefull' is a very by thing! So I take the cheap approach using kapp->processEvents();... Maybe someday, later, I'll do it neatly -- the lypanov pointed out. FIXED


annma - 29th December 2003
about the resizing
I think the canvas size should fill all the right side under the toolbar when KTurtle is started. When resizing the window with the mouse, the canvas grows bigger, everything resize smoothly (-> resizeEvent( QResizeEvent * )).
You can leave the resizing option of the canvas in the Settings but only for having the canvas bigger. That would mean setting minimums in the config dialog.

cies: Sorry i have to disagree, let me explain: a lot of logoscripts will be written on a certain canvas size, if the canvas is made bigger the script will give 'broken' output. I also dont have a way to update the 'wrapping' if a canvas is resized. IMHO the canvassize should be changed by a command, nl. canvassize x,y -- which works on my side of mother earth :-) IMHO all changes to the canvas MUST be done by commands and not by clicky-clicky... Putting the 'initial canvas size' in the settings window is only for the teatcher to setup all his computers.

Sorry for beeing so inflexible... *Really*  I am still open for discussion! :-) I just have developed a certain vision of KTurtle's future that is really hard to let go.
(annma 30/12/2003 ok then, but the config option should be made clearer that the new canvas size will be next start)



Annma: Idea from my daughter: have a Tux and a Konqui as alternate turtle for the cursor. I don't know if it's possible and if you like it ;)

cies: That is a good plan! (you can tell your daughter that the plan -- just like any of her feedback -- is very appreciated :-) I have tux allready in my sprites dir (I'm a fan too!)... but there's one nice thing about the turtle: this animal is very regocnisable from above, and the head points in the direction of movement. Tux is more a front faced character, so nice would be to have an option to put the automatic turning off, and to have a different method to turn tux by command. [please note that i wont do any extra work on getting qt3.3 (needed for sprites), it comes when it comes]





cies: On the docbook 'manual' page...

I dont hav much experience with this (doc an KDE) but i seeing 3 documents 1) Quickstart, 2) THE MANUAL and 3) A Tutorial


Maybe 1 & 3 should be combined, what do you think?

annma 30/12/2003 Quick Start might be a wizard run at first start and could be accessed later or the classical 'tips of the day' dialog. A tutorial is indeed needed, maybe within KTurtle, in the Settings menu. I can help with the writing.

A graphical Quick Start wizard was suggested on IRC using flash animations.

cies: I think the syntax of the language should first be more mature, it changes too much right now... This will settle down in a few moths i hope :-)
For the settingsmenu: if you know a better string than 'initial canvas size' (iirc) feel free to... etc.




Here a small start with the manual chapters, FEEDBACK NEEDED!

THE MANUAL

starting logo
  the mainwindow
     the canvas
     the text input
     the toolbar
     the menus
        file
	edit
	view
	tools
	   colorpicker
           fontchooser
	settings
           configuring klogo
               the language
	       initial values
	help
	   using the help
  

the basics of logo programming
     first steps... (just a few commands: print, repeat, fw-tr) [just to show how easy it is!]
     simple calculations: 1+1=...
     variables: creating 'number containers'
     strings: creating 'text containers'
     logic: asking the computer simple questions
        
        and/or/not: combining simple questions 
     if ... do: logic conditions
        if ... do ... else
     loops: repeat and friends
        repeat ... times: the simplelest loop
	while ... do: a conditioned loop
        for ... to ... do: a counting loop
     moving the turlte
        forward and backward
        turnleft and turnright
	direction
	go/gox/goy
	center
     the turtle has a pen
        penup/pendown
        pencolor
	penwidth
     the canvas
        canvascolor
	clean
	canvassize
     sprites: turtle has new clothes
        hiding the turtle
	

     learn: your own commands!
        simplify
	use others code
     
 


        

BUGS: TROUBLE LOGO SCRIPTS!!!!!

# due to lines
reset
canvassize 350,350
canvascolor 0,0,0
center
for x = 1 to 255 [
  fw x
  pencolor x, 255 - x, 255 - x
  tr x / 65
]

# due to lines
reset
canvassize 350,350
center
for x = 1 to 255 [
  fw x*x
  tr x
]



