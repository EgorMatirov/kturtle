 = KDE3 TO KDE4 CHANGELOG =

This document describes what changed from the kde3 version of KTurtle (<= v0.7) to the kde4 (>= v0.8) version.

Since I (Cies Breijs) was working on the rewrite of the interpreter of KTurtle when the porting of kde3 to qt4 started, I descided to remove KTurtle from kde trunk to avoid dubble efford. In the end the rewrite of the interpreter resulted in a total rewrite for KTurtle. To know all that changed read on for the change log.

KTurtle is my first programming project; it basically learnt me C++/Qt/KDE development. I started off by massaging GPLed code of other project into what I wanted it to do. Gradually I learn alot about software design and this rewrite tries to set everything straight.

A lot of stuff still has to be done: not all features in the kde3 version of kturtle are in this version, work has started on a unittest framework (but it is by no means complete), the interpreter has not been very well tested yet, the documentation is still missing and there are rough edges all over the place. Yet I felt it the code is mature enough to back in kde trunk.


I break up the change log by (groups of) classes:


 == interpreter ==
 * syntax heavily changed (no longer called 'logo' because of complaint of logo-purists)
 * the interpreter is now fully statefull (instead of doing ugly callbacks)
 * the tokenizer can be (and is) re-used for syntaxt highlighting and F2 context help
 * almost 1/3 of interpreter code is generated (see: definitions.rb and generate.rb)
 * code generation alows a central place for command definition (in stead of over many files); so not repeating onself
 * more sophiticated error handling
 * classes have better responsibilities
 * the translator is now a singleton
 * fully unicode ready (QString everywhere)
 * dummy command 'echoer' allows the GUIless unittests
 * a lot of testing has to be done (crashes occur, bad working functions, insufficient error messages)


 == canvas ==
 * from QCanvas to QGraphicsView (antialiassing, vectorbased)
 * the turtle figure is now vector based (not keeping many rotations in .PNGs)
 * quite some functionality (most notably the 'wrapping' mode) are still missing
 * two annoying bugs: 1) i cant get rid of the scrollbars, 2) some glitches while drawing


 == editor ==
 * no longer uses katepart, no based on the QTextEdit framework
 * close coupling with the interpreter (syntax highlighting re-uses the tokenizer!)
 * some functions are still missing (like find/replace, and a proper context menu)
 * highlighting the currently executed command (or the current error) has yet to been implemented


 == main/mainwindow ==
 * this should contain most of the kde specific stuff (the rest should be pure-Qt)
 * F2 context help is now done using the tokenizer
 * there is now a way to invoke KTurtle from the command line (for unittests), try: "kturtle --help"
 * new icons (logo) for kturtle (now svg based: thanks to inkscape)



